import React, { useEffect, useState } from "react";
import styles from "./HomePage.module.css";

import bernilaiBlack from "../../assets/bernilai-hitam.png";

import { Form, Link } from "react-router";
import { getCurrentUser } from "../../util/root";

const Navigation = () => {
	const [navbarStick, setNavbarStick] = useState(false);

	useEffect(() => {
		const handleScroll = () => {
			setNavbarStick(window.scrollY > 100 ? true : false);
		};

		window.addEventListener("scroll", handleScroll);

		handleScroll();

		return () => {
			window.removeEventListener("scroll", handleScroll);
		};
	}, []);

	const user = getCurrentUser();

	return (
		<header
			className={`${styles.navigation} ${
				navbarStick && styles.navigationSticky
			}`}
		>
			<img
				src={bernilaiBlack}
				alt='Bernilai Logo'
				className={`${styles.bernilaiLogoBlack1}`}
			/>

			<ul className={styles.navCenter}>
				<Link to='/' className={styles.navItem}>
					<div
						dangerouslySetInnerHTML={{
							__html: '<svg width="33" height="32" viewBox="0 0 33 32" fill="none" xmlns="http://www.w3.org/2000/svg" class="nav-icon" style="width: 33px; height: 32px; flex-shrink: 0"> <g clip-path="url(#clip0_31_18)"> <path d="M31.5902 11.5936L21.847 2.14559C18.8915 -0.712968 14.1077 -0.712968 11.1522 2.14559L1.40902 11.5936C0.50358 12.4669 -0.0039232 13.6551 -0.000378282 14.8936V28.7308C0.00265101 30.537 1.51266 32 3.37528 32.0015H29.624C31.4866 32.0001 32.9965 30.537 32.9996 28.7308V14.8936C33.0032 13.6551 32.4957 12.4669 31.5902 11.5936ZM28.8746 28.0015H21.9996V23.7589C21.9996 20.9474 19.6492 18.6682 16.7499 18.6682H16.2494C13.35 18.6682 10.9996 20.9474 10.9996 23.7589V28.0015H4.12461V14.8936C4.12506 14.7168 4.19712 14.5473 4.32538 14.4216L14.0686 4.97358C15.4108 3.67165 17.5874 3.6714 18.93 4.97296C18.9302 4.97315 18.9304 4.9734 18.9306 4.97358L28.6739 14.4216C28.8021 14.5473 28.8742 14.7168 28.8746 14.8936V28.0015H28.8746Z" fill="#183D10"></path> </g> <defs> <clipPath id="clip0_31_18"> <rect width="33" height="32" fill="white"></rect> </clipPath> </defs> </svg>',
						}}
					/>
					Home
				</Link>
				<Link to='/collector' className={styles.navItem}>
					<div
						dangerouslySetInnerHTML={{
							__html: '<svg width="35" height="36" viewBox="0 0 35 36" fill="none" xmlns="http://www.w3.org/2000/svg" class="nav-icon" style="width: 33px; height: 32px; flex-shrink: 0"> <g clip-path="url(#clip0_31_24)"> <path d="M2.56954 12.5625L1.42913 14.073C0.37243 15.4713 -0.12795 17.2305 0.0293778 18.9941C0.186705 20.7577 0.989974 22.3939 2.27642 23.571L13.4166 34.4325C14.5394 35.4396 15.9796 35.9929 17.4693 35.9895C19.0046 35.9887 20.487 35.4122 21.6387 34.368L32.6637 23.6535C33.9639 22.5012 34.7887 20.883 34.9705 19.1276C35.1523 17.3723 34.6773 15.6116 33.6423 14.2035L32.5456 12.693C31.7042 11.546 30.6154 10.6155 29.3651 9.97469C28.1148 9.33387 26.7369 9.00022 25.34 9H9.68184C8.31151 9.00145 6.95938 9.32284 5.72737 9.93994C4.49536 10.557 3.41562 11.4538 2.56954 12.5625ZM4.88829 16.8315L6.02433 15.3225C6.46018 14.7539 7.01581 14.2944 7.64936 13.9787C8.28291 13.663 8.97786 13.4993 9.68184 13.5H13.2183L12.3827 15.609C11.9946 16.6066 11.8124 17.6762 11.8475 18.75H23.1014C23.1671 17.6171 22.9893 16.4833 22.5808 15.429L21.8181 13.5H25.34C26.0578 13.4987 26.7662 13.6688 27.4093 13.997C28.0523 14.3253 28.6125 14.8026 29.0456 15.3915L30.1423 16.902C30.3322 17.1639 30.4689 17.4626 30.5441 17.7801C30.6193 18.0977 30.6314 18.4275 30.5798 18.75H23.1014C23.071 19.5703 22.914 20.3804 22.6362 21.15L18.3064 31.275C18.0542 31.4073 17.7751 31.4763 17.4919 31.4763C17.2088 31.4763 16.9297 31.4073 16.6775 31.275L12.3287 21.336C12.0264 20.5084 11.8637 19.6339 11.8475 18.75H4.40996C4.3559 18.4136 4.37051 18.0693 4.45286 17.739C4.53521 17.4087 4.6835 17.0996 4.88829 16.8315Z" fill="#113D27"></path> <path d="M23.9735 0.65919L22.5152 2.15919C22.1048 2.58128 21.8743 3.15376 21.8743 3.75069C21.8743 4.34762 22.1048 4.9201 22.5152 5.34219C22.9256 5.76428 23.4821 6.00141 24.0625 6.00141C24.6428 6.00141 25.1994 5.76428 25.6098 5.34219L27.0681 3.84219C27.4785 3.4201 27.709 2.84762 27.709 2.25069C27.709 1.65376 27.4785 1.08128 27.0681 0.65919C26.6577 0.237098 26.1012 -3.05176e-05 25.5208 -3.05176e-05C24.9405 -3.05176e-05 24.3839 0.237098 23.9735 0.65919Z" fill="#113D27"></path> <path d="M10.9374 6.00069C11.3702 6.00089 11.7933 5.86904 12.1532 5.62182C12.5131 5.3746 12.7937 5.02313 12.9593 4.61187C13.125 4.20061 13.1683 3.74805 13.0838 3.31146C12.9993 2.87487 12.7908 2.47386 12.4847 2.15919L11.0263 0.65919C10.616 0.237098 10.0594 -3.0522e-05 9.47906 -3.05176e-05C8.89871 -3.05131e-05 8.34214 0.237098 7.93177 0.65919C7.5214 1.08128 7.29086 1.65376 7.29086 2.25069C7.29086 2.84762 7.5214 3.4201 7.93177 3.84219L9.3901 5.34219C9.59333 5.55109 9.83458 5.71677 10.1001 5.82975C10.3655 5.94274 10.6501 6.00082 10.9374 6.00069Z" fill="#113D27"></path> <path d="M15.3125 2.24998V3.74998C15.3125 4.34672 15.543 4.91902 15.9532 5.34097C16.3634 5.76293 16.9198 5.99998 17.5 5.99998C18.0802 5.99998 18.6366 5.76293 19.0468 5.34097C19.457 4.91902 19.6875 4.34672 19.6875 3.74998V2.24998C19.6875 1.65325 19.457 1.08095 19.0468 0.658994C18.6366 0.237038 18.0802 -1.52588e-05 17.5 -1.52588e-05C16.9198 -1.52588e-05 16.3634 0.237038 15.9532 0.658994C15.543 1.08095 15.3125 1.65325 15.3125 2.24998Z" fill="#113D27"></path> </g> <defs> <clipPath id="clip0_31_24"> <rect width="35" height="36" fill="white"></rect> </clipPath> </defs> </svg>',
						}}
					/>{" "}
					Collector
				</Link>
				<Link to='/discover' className={styles.navItem}>
					<div
						dangerouslySetInnerHTML={{
							__html: '<svg width="31" height="32" viewBox="0 0 31 32" fill="none" xmlns="http://www.w3.org/2000/svg" class="nav-icon" style="width: 33px; height: 32px; flex-shrink: 0"> <g clip-path="url(#clip0_31_32)"> <path d="M15.5 8H11.625V12H7.75V16H11.625V20H15.5V16H19.375V12H15.5V8Z" fill="#1E3616"></path> <path d="M24.4382 22.4067C28.9249 16.2172 27.7014 7.44511 21.7053 2.81361C15.7092 -1.81789 7.21125 -0.554888 2.72448 5.63461C-1.76228 11.8241 -0.538751 20.5962 5.45733 25.2277C10.2738 28.948 16.8889 28.948 21.7053 25.2277L28.2672 32.0012L31 29.1855L24.4382 22.4067ZM13.6304 24.0324C8.30097 24.0324 3.98059 19.5726 3.98059 14.0713C3.98059 8.56999 8.30097 4.11024 13.6304 4.11024C18.9598 4.11024 23.2801 8.56999 23.2801 14.0713C23.2752 19.5705 18.9578 24.0272 13.6304 24.0324Z" fill="#1E3616"></path> </g> <defs> <clipPath id="clip0_31_32"> <rect width="31" height="32" fill="white"></rect> </clipPath> </defs> </svg>',
						}}
					/>
					Discover
				</Link>
			</ul>

			<nav className={styles.navItem}>
				<div
					dangerouslySetInnerHTML={{
						__html: '<svg width="36" height="35" viewBox="0 0 36 35" fill="none" xmlns="http://www.w3.org/2000/svg" class="nav-icon" style="width: 33px; height: 32px; flex-shrink: 0"> <path d="M23.9895 16.7708C23.9895 17.2034 23.8575 17.6264 23.6103 17.9861C23.3631 18.3458 23.0117 18.6262 22.6005 18.7918C22.1894 18.9573 21.737 19.0006 21.3005 18.9162C20.8641 18.8318 20.4632 18.6235 20.1485 18.3176C19.8338 18.0116 19.6195 17.6219 19.5327 17.1975C19.4459 16.7732 19.4905 16.3334 19.6608 15.9337C19.8311 15.5339 20.1195 15.1923 20.4895 14.9519C20.8595 14.7116 21.2945 14.5833 21.7395 14.5833C22.3362 14.5833 22.9085 14.8137 23.3305 15.224C23.7524 15.6342 23.9895 16.1906 23.9895 16.7708ZM35.9895 16.7708C35.9886 15.7649 35.682 14.7817 35.1082 13.9447C34.5344 13.1077 33.719 12.4542 32.7645 12.0662C32.1615 8.73579 30.3869 5.71262 27.7442 3.51399C25.1015 1.31537 21.755 0.0779727 18.2774 0.0135368C14.7998 -0.050899 11.4073 1.06163 8.68035 3.16076C5.9534 5.25989 4.06154 8.21513 3.3285 11.5208L2.25 17.4999C2.25 17.4999 4.659 17.4999 4.917 17.481C7.46474 17.4064 9.9683 16.8148 12.267 15.7441C12.0903 16.0572 11.996 16.4079 11.9925 16.7649C11.9891 17.1905 12.1134 17.6079 12.3503 17.9658C12.5872 18.3237 12.9263 18.6067 13.3261 18.78C13.7259 18.9533 14.1691 19.0095 14.6012 18.9416C15.0334 18.8738 15.4358 18.6848 15.7591 18.3979C16.0825 18.111 16.3127 17.7386 16.4217 17.3264C16.5306 16.9142 16.5135 16.48 16.3724 16.0771C16.2313 15.6742 15.9724 15.3201 15.6274 15.0581C15.2824 14.7961 14.8662 14.6377 14.43 14.6022C14.4675 14.5789 14.508 14.5585 14.5455 14.5366C18.6913 12.2098 22.0394 8.74623 24.171 4.57911C25.7634 5.50541 27.1121 6.77958 28.1101 8.30064C29.108 9.82169 29.7279 11.5478 29.9205 13.3422L30.0375 14.4302L31.1445 14.6241C31.6615 14.7161 32.1291 14.9811 32.4661 15.3732C32.8031 15.7653 32.9883 16.2598 32.9895 16.7708H33C33 17.3509 32.7629 17.9073 32.341 18.3176C31.919 18.7278 31.3467 18.9583 30.75 18.9583C30.6231 18.9549 30.4967 18.9417 30.372 18.9189L29.1195 18.7031L28.6965 19.8697C27.3225 23.6556 22.695 27.7083 18 27.7083C13.461 27.7083 8.9655 23.8889 7.4385 20.1935C6.46585 20.337 5.48377 20.4115 4.5 20.4166H4.32C4.413 20.6806 4.479 20.8541 4.5 20.911C5.92579 24.4112 8.58372 27.3053 12 29.0777V34.9999H24V29.0995C27.0962 27.4812 29.5822 24.9468 31.098 21.8633C32.4271 21.7774 33.673 21.2036 34.5832 20.258C35.4934 19.3124 35.9999 18.0658 36 16.7708H35.9895Z" fill="#094609"></path> </svg>',
					}}
				/>
				{user ? (
					<Form
						action='/logout'
						method='post'
						style={{ cursor: "pointer" }}
					>
						<button
							style={{
								background: "none",
								outline: "0",
								border: "none",
								font: "inherit",
								color: "inherit",
							}}
						>
							Logout
						</button>
					</Form>
				) : (
					<Link to='/login'>Login</Link>
				)}
			</nav>
		</header>
	);
};

export default Navigation;
